Most of the code is given as examples in the test folder